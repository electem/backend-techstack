<h1 class="card-title text-center">Add Student</h1>
<div class="form">
  <form [formGroup]="registerForm">
    <div class="form-group">
      <label for="studentName">Name</label>
      <input type="studentName" formControlName="studentName" placeholder="Enter your name" class="form-control item"
        [(ngModel)]="currentStudent.studentName"
        [ngClass]="{ 'is-invalid': submitted && validation.studentName.errors }" />
      <div *ngIf="this.submitted && validation.studentName.errors" class="invalid-feedback">
        <div *ngIf="validation.studentName.errors.required">
          Name Field is required
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="genders">Select a gender</label>
      <div *ngFor="let gender of genders; let i = index">
        <input id="gender{{ i }}" formControlName="genders" name="genders" type="radio" [value]="gender"
          [(ngModel)]="currentStudent.gender" />
        <label for="">{{ gender }}</label>
      </div>
    </div>

    <div class="form-group">
      <input matInput [matDatepicker]="picker" class="form-control item" placeholder="Choose a date"
        [(ngModel)]="currentStudent.dateOfBirth" formControlName="dateOfBirth" name="dateOfBirth" />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </div>

    <div class="form-group">
      <label for="address">Address</label>
      <input type="address" formControlName="address" placeholder="Enter your address" class="form-control item"
        [(ngModel)]="currentStudent.address" [ngClass]="{ 'is-invalid': submitted && validation.address.errors }" />
      <div *ngIf="this.submitted && validation.address.errors" class="invalid-feedback">
        <div *ngIf="validation.address.errors.required">
          Address Field is required
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" formControlName="email" placeholder="Enter your email" class="form-control item"
        [(ngModel)]="currentStudent.email" [ngClass]="{ 'is-invalid': submitted && validation.email.errors }" />
      <div *ngIf="this.submitted && validation.email.errors" class="invalid-feedback">
        <div *ngIf="validation.email.errors.required">
          Email Field is required
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="phoneNo">Phone No</label>
      <input type="phoneNo" formControlName="phoneNo" placeholder="Enter your phoneNo" class="form-control item"
        [(ngModel)]="currentStudent.phoneNo" [ngClass]="{ 'is-invalid': submitted && validation.phoneNo.errors }" />
      <div *ngIf="this.submitted && validation.phoneNo.errors" class="invalid-feedback">
        <div *ngIf="validation.phoneNo.errors.required">
          Phone No Field is required
        </div>
      </div>
    </div>

    <div class="row">
      <label>
        <input type="file" (change)="selectFile($event)" />
      </label>
    </div>
    <button class="btn btn-success" [disabled]="!selectedFiles" (click)="upload()">
      Upload
    </button>
    <button class="btn btn-success" (click)="downloadFile()">
      Download
    </button><br><br>

    <div class="form-group">
      <p class="text-center">
        Schools
        <select class="form-control" formControlName="school" name="school" [(ngModel)]="selectedSchool"
          (ngModelChange)="onSelected(selectedSchool)">
          <option disabled [value]="" selected>Choose School</option>
          <option *ngFor="let school of schools" [ngValue]="school">
            {{ school.schoolName }}
          </option>
        </select>
      </p>
    </div>
    <button type="button" class="btn btn-success" (click)="signup()">
      Save
    </button>
    <button type=" button" class="btn btn-warning" routerLink="/student-list">
      Cancel
    </button>
  </form>
</div>
